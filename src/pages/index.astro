---
import DefaultLayout from '~/components/layouts/DefaultLayout.astro'
import TopContainer from '~/components/containers/TopContainer/index.astro'
import { getNews } from '~/lib/microcms'

const articles = await getNews()
const topArticles = articles
  .sort((a, b) =>
    new Date(b.publishedAt).getTime() - new Date(a.publishedAt).getTime(),
  )
  .slice(0, 3)
---

<DefaultLayout>
  <TopContainer articles={topArticles} />
</DefaultLayout>
